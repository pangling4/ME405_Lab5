<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME 405: Term Project: JointTask.JointTask Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME 405: Term Project
   </div>
   <div id="projectbrief">3R Parallel Robot</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_joint_task_1_1_joint_task.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_joint_task_1_1_joint_task-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">JointTask.JointTask Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class implements a motor, encoder, and control task to control robot joints.  
 <a href="class_joint_task_1_1_joint_task.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1ccd03f402e2bba415672d4a28d03262"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_joint_task_1_1_joint_task.html#a1ccd03f402e2bba415672d4a28d03262">__init__</a> (self, ready, motor_const, encoder_const, kp, ki, setpoint, queue_theta)</td></tr>
<tr class="memdesc:a1ccd03f402e2bba415672d4a28d03262"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a <a class="el" href="class_joint_task_1_1_joint_task.html" title="This class implements a motor, encoder, and control task to control robot joints.">JointTask</a> object.  <a href="class_joint_task_1_1_joint_task.html#a1ccd03f402e2bba415672d4a28d03262">More...</a><br /></td></tr>
<tr class="separator:a1ccd03f402e2bba415672d4a28d03262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd05c1cfbe8c5887d04937899a8ee138"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_joint_task_1_1_joint_task.html#acd05c1cfbe8c5887d04937899a8ee138">run</a> (self)</td></tr>
<tr class="memdesc:acd05c1cfbe8c5887d04937899a8ee138"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generator which continuously updates the joint.  <a href="class_joint_task_1_1_joint_task.html#acd05c1cfbe8c5887d04937899a8ee138">More...</a><br /></td></tr>
<tr class="separator:acd05c1cfbe8c5887d04937899a8ee138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a452e42d9e4e570c31fb44d7e56e23fd2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_joint_task_1_1_joint_task.html#a452e42d9e4e570c31fb44d7e56e23fd2">calibrate</a> (self)</td></tr>
<tr class="memdesc:a452e42d9e4e570c31fb44d7e56e23fd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrates the joint encoder to the correct position.  <a href="class_joint_task_1_1_joint_task.html#a452e42d9e4e570c31fb44d7e56e23fd2">More...</a><br /></td></tr>
<tr class="separator:a452e42d9e4e570c31fb44d7e56e23fd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a4f9b319509a053b442c46d461f32aa10"><td class="memItemLeft" align="right" valign="top"><a id="a4f9b319509a053b442c46d461f32aa10"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>motor_const</b></td></tr>
<tr class="separator:a4f9b319509a053b442c46d461f32aa10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfcd65c4b6c4074e0d455dbb90dc4e1"><td class="memItemLeft" align="right" valign="top"><a id="a7cfcd65c4b6c4074e0d455dbb90dc4e1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ready</b></td></tr>
<tr class="separator:a7cfcd65c4b6c4074e0d455dbb90dc4e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6317bc9572557329f05ccbc16e389b15"><td class="memItemLeft" align="right" valign="top"><a id="a6317bc9572557329f05ccbc16e389b15"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>motor</b></td></tr>
<tr class="separator:a6317bc9572557329f05ccbc16e389b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf291607e7336a051f3c55644cb37b7"><td class="memItemLeft" align="right" valign="top"><a id="adaf291607e7336a051f3c55644cb37b7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>encoder</b></td></tr>
<tr class="separator:adaf291607e7336a051f3c55644cb37b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed7df5c9e4ca760fb069d17821fb279f"><td class="memItemLeft" align="right" valign="top"><a id="aed7df5c9e4ca760fb069d17821fb279f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>controller</b></td></tr>
<tr class="separator:aed7df5c9e4ca760fb069d17821fb279f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0044b19e73763bdfc28e435c177fd43"><td class="memItemLeft" align="right" valign="top"><a id="aa0044b19e73763bdfc28e435c177fd43"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>theta_queue</b></td></tr>
<tr class="separator:aa0044b19e73763bdfc28e435c177fd43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dab0aee9a0a8b6c3df4f3d6fbdf6a61"><td class="memItemLeft" align="right" valign="top"><a id="a1dab0aee9a0a8b6c3df4f3d6fbdf6a61"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>theta</b></td></tr>
<tr class="separator:a1dab0aee9a0a8b6c3df4f3d6fbdf6a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements a motor, encoder, and control task to control robot joints. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1ccd03f402e2bba415672d4a28d03262"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ccd03f402e2bba415672d4a28d03262">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def JointTask.JointTask.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ready</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>motor_const</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoder_const</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ki</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>queue_theta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a <a class="el" href="class_joint_task_1_1_joint_task.html" title="This class implements a motor, encoder, and control task to control robot joints.">JointTask</a> object. </p>
<p>Creates RoboMotorDriver, RoboEncoderDriver, and ClosedLoop controller objects corresponding to the given constants to control the motion of a joint on the 3 RRR planar parallel robot. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ready</td><td>A <a class="el" href="classtask__share_1_1_share.html" title="An item which holds data to be shared between tasks.">task_share.Share</a> variable that is used as a flag to turn off the joint motor when the robot shuts down </td></tr>
    <tr><td class="paramname">motor_const</td><td>An integer denoting the motor associated with the joint. Motor 1 corresponds to M1, pins PB5 and PB3 Motor 2 corresponds to M2, pins PA6 and PA7 Motor 3 corresponds to M3, pins PA9 and PB4 </td></tr>
    <tr><td class="paramname">encoder_const</td><td>An integer denoting the encoder associated with the motor. Encoder 1 corresponds to pins PB6 and PB7 with timer 4 Encoder 2 corresponds to pins PC6 and PC7 with timer 8 Encoder 3 corresponds to pins PA0 and PA1 with timer 5 </td></tr>
    <tr><td class="paramname">kp</td><td>The proportional gain constant used for the closed loop controller The constant should be given in units of [% duty cycle/degree] </td></tr>
    <tr><td class="paramname">ki</td><td>The integral gain constatn used for the closed loop controller The constant should be given in units of [% duty cycle * sec/degree] </td></tr>
    <tr><td class="paramname">setpoint</td><td>The setpoint in degrees for the closed loop controller </td></tr>
    <tr><td class="paramname">queue_theta</td><td>The <a class="el" href="classtask__share_1_1_queue.html" title="A queue which is used to transfer data from one task to another.">task_share.Queue</a> corresponding to this joint's theta value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a452e42d9e4e570c31fb44d7e56e23fd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a452e42d9e4e570c31fb44d7e56e23fd2">&#9670;&nbsp;</a></span>calibrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def JointTask.JointTask.calibrate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calibrates the joint encoder to the correct position. </p>
<p>Waits for the user to manually move the link past the limit switch ramp and sets the encoder value to the correct angle after the link has moved back and forth across the limit switch ramp. </p>

</div>
</div>
<a id="acd05c1cfbe8c5887d04937899a8ee138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd05c1cfbe8c5887d04937899a8ee138">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def JointTask.JointTask.run </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generator which continuously updates the joint. </p>
<p>Pulls the desired position from a shared queue, and updates the joint motor, encoder, and controller accordingly </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="_joint_task_8py.html">JointTask.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>JointTask</b></li><li class="navelem"><a class="el" href="class_joint_task_1_1_joint_task.html">JointTask</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.0 </li>
  </ul>
</div>
</body>
</html>
